{"version":3,"sources":["webpack:///./src/components/Text.js","webpack:///./src/components/Image.js","webpack:///./src/containers/Points/index.js","webpack:///./src/pages/points.js","webpack:///./node_modules/core-js/modules/_string-html.js","webpack:///./src/components/BackgroundImage.js","webpack:///./node_modules/core-js/modules/es6.string.bold.js","webpack:///./src/utils/request.js"],"names":["Text","styled","tag","typography","display","space","color","position","injectProps","defaultProps","is","fontSize","blacklist","inline","props","bold","fontWeight","thin","range","forEach","key","h","displayName","Image","img","layout","opacity","width","Points","useContext","AnswerContext","answers","clearAnswer","useState","answerClone","cloneAnswer","useEffect","length","request","method","headers","body","JSON","stringify","then","reduce","res","a","i","s","Math","floor","Layout","height","FullpageVerticalCenter","Box","textAlign","$export","fails","defined","quot","createHTML","string","attribute","value","S","String","p1","replace","module","exports","NAME","exec","O","P","F","test","toLowerCase","split","BackgroundImage","background","src","ratio","propTypes","PropTypes","backgroundSize","backgroundPosition","this","parseJSON","response","status","json","checkStatus","error","Error","statusText","url","options","fetch"],"mappings":"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","file":"component---src-pages-points-js-dfef4cd5856f6da109f2.js","sourcesContent":["import React from 'react';\nimport styled from 'styled-components';\nimport range from 'lodash/range';\nimport {\n  typography,\n  space,\n  color,\n  display,\n  position,\n} from 'styled-system';\nimport tag from 'clean-tag';\n\nimport blacklist from './utils/blacklist';\nimport injectProps from './utils/injectProps';\n\nconst Text = styled(tag)`\n  margin-top: 0;\n  margin-bottom: 0;\n  ${typography}\n  ${display}\n  ${space}\n  ${color}\n  ${position}\n  ${injectProps('textTransform')}\n`;\n\nText.defaultProps = {\n  is: 'p',\n  fontSize: '1em',\n  // lineHeight: 1.5,\n  blacklist,\n};\n\nText.inline = (props) => <Text is=\"span\" {...props} />;\nText.bold = (props) => <Text fontWeight=\"bold\" {...props} />;\nText.thin = (props) => <Text fontWeight=\"200\" {...props} />;\n\nrange(1, 7).forEach((key) => {\n  const h = `h${key}`;\n  Text[h] = (props) => (\n    <Text\n      is={h}\n      fontSize={`${1 + ((6 - key) * 0.125)}em`}\n      {...props}\n    />\n  );\n});\n\nText.displayName = 'Text';\n\nexport default Text;\n","import styled from 'styled-components';\nimport { space, layout, opacity } from 'styled-system';\nimport tag from 'clean-tag';\n\nimport blacklist from './utils/blacklist';\n\nconst Image = styled(tag.img)`\n  ${space}\n  ${layout}\n  ${opacity}\n`;\n\nImage.defaultProps = {\n  blacklist,\n  width: 1,\n};\n\nImage.displayName = 'Image';\n\nexport default Image;\n","import React, { useEffect, useContext, useState } from 'react'\n\nimport Box from 'components/Box';\nimport Flex from 'components/Flex';\nimport Text from 'components/Text';\nimport Image from 'components/Image';\nimport Button from 'components/Button';\nimport BackgroundImage from 'components/BackgroundImage';\nimport FullpageVerticalCenter from 'components/FullpageVerticalCenter'\n\nimport AnswerContext from '../../AnswerContext'\n\nimport Layout from '../Layout'\nimport request from '../../utils/request'\n\nconst levels = [\n  '前', '中', '後'\n]\n\nconst Points = () => {\n  const { answers, clearAnswer } = useContext(AnswerContext)\n  const [answerClone, cloneAnswer] = useState([])\n  useEffect(() => {\n    if (answers && answers.length) {\n      cloneAnswer(answers)\n      request('https://us-central1-re-drive-75970.cloudfunctions.net/app/health-survey', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(answers)\n      }).then(clearAnswer)\n    }\n  })\n\n  const points = answerClone.reduce((res, a, i) => {\n    const s = Math.floor(i / 3)\n    res[s] = (res[s] || 0) + +a\n    return res\n  }, [])\n\n  return (\n    <Layout height=\"100vh\">\n      <FullpageVerticalCenter>\n        <Box textAlign=\"center\">\n          <Text fontSize=\"3.4375em\">你的各階段分數</Text>\n          <Box fontSize=\"1.125em\">\n            <Text>請不要擔心得分總合的高低！重點在於找出三個階段分數的差異</Text>\n            <Text>檢視你在哪個環節最沒有信心</Text>\n            <Text>點擊下方按鈕，看看為你準備的專屬溝通建議</Text>\n          </Box>\n        </Box>\n      </FullpageVerticalCenter>\n    </Layout>\n  )\n}\n\nexport default Points\n","import Points from 'containers/Points'\n\nexport default Points\n","var $export = require('./_export');\nvar fails = require('./_fails');\nvar defined = require('./_defined');\nvar quot = /\"/g;\n// B.2.3.2.1 CreateHTML(string, tag, attribute, value)\nvar createHTML = function (string, tag, attribute, value) {\n  var S = String(defined(string));\n  var p1 = '<' + tag;\n  if (attribute !== '') p1 += ' ' + attribute + '=\"' + String(value).replace(quot, '&quot;') + '\"';\n  return p1 + '>' + S + '</' + tag + '>';\n};\nmodule.exports = function (NAME, exec) {\n  var O = {};\n  O[NAME] = exec(createHTML);\n  $export($export.P + $export.F * fails(function () {\n    var test = ''[NAME]('\"');\n    return test !== test.toLowerCase() || test.split('\"').length > 3;\n  }), 'String', O);\n};\n","import PropTypes from 'prop-types';\nimport styled from 'styled-components';\nimport { background } from 'styled-system';\n\nimport Box from './Box';\n\nconst BackgroundImage = styled(Box)`\n  ${background}\n  background-image: url(${({ src }) => src});\n  background-repeat: no-repeat;\n  ${(props) => props.height ? '' : `padding-top: ${props.ratio * 100}%;`}\n`;\n\nBackgroundImage.propTypes = {\n  src: PropTypes.string,\n  backgroundSize: PropTypes.string,\n  backgroundPosition: PropTypes.string,\n};\n\nBackgroundImage.defaultProps = {\n  position: 'relative',\n  ratio: 1,\n  backgroundSize: 'cover',\n  backgroundPosition: '50% 50%',\n};\n\nBackgroundImage.displayName = 'BackgroundImage';\n\nexport default BackgroundImage;\n","'use strict';\n// B.2.3.5 String.prototype.bold()\nrequire('./_string-html')('bold', function (createHTML) {\n  return function bold() {\n    return createHTML(this, 'b', '', '');\n  };\n});\n","/**\n * Parses the JSON returned by a network request\n *\n * @param  {object} response A response from a network request\n *\n * @return {object}          The parsed JSON from the request\n */\nfunction parseJSON(response) {\n  if (response.status === 204 || response.status === 205) {\n    return null;\n  }\n  return response.json();\n}\n\n/**\n * Checks if a network request came back fine, and throws an error if not\n *\n * @param  {object} response   A response from a network request\n *\n * @return {object|undefined} Returns either the response, or throws an error\n */\nfunction checkStatus(response) {\n  if (response.status >= 200 && response.status < 300) {\n    return response;\n  }\n\n  const error = new Error(response.statusText);\n  error.response = response;\n  throw error;\n}\n\n/**\n * Requests a URL, returning a promise\n *\n * @param  {string} url       The URL we want to request\n * @param  {object} [options] The options we want to pass to \"fetch\"\n *\n * @return {object}           The response data\n */\nexport default function request(url, options) {\n  return fetch(url, options)\n    .then(checkStatus)\n    .then(parseJSON);\n}\n"],"sourceRoot":""}